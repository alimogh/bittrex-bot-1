package com.jlarrieux.bittrexbot.test.bdd.ManagerTest

import spock.lang.Specification

class OrderManagerTest extends Specification{


//    def "testing sell feature"(){
//        given:
//        OrderManager orderManager = new OrderManager()
//        def exchange = Mock(ExchangeInterface){
//            sell("",5, 5)>>'{"success":true,"message": "great", result: {"uuid":"cb6bc5fa-1954-4591-a9ed-985dfefbe64a"}}'
//            getOrder("a")>>'{"success":true,"message":"cool","result":{"AccountId":null,"OrderUuid":"cb6bc5fa-1954-4591-a9ed-985dfefbe64a","Exchange":"BTC-HMQ","Type":"LIMIT_SELL","Quantity":20.00000000,"QuantityRemaining":20.00000000,"Limit":2.00000000,"Reserved":20.00000000,"ReserveRemaining":20.00000000,"CommissionReserved":0.00000000,"CommissionReserveRemaining":0.00000000,"CommissionPaid":0.00000000,"Price":0.00000000,"PricePerUnit":null,"Opened":"2017-08-24T02:57:55.887","Closed":null,"IsOpen":true,"Sentinel":"3e71adc6-6dd6-4f7c-9acc-c92f118fd296","CancelInitiated":false,"ImmediateOrCancel":false,"IsConditional":false,"Condition":"NONE","ConditionTarget":null}}'
//        }
//
//
//        when:
//        orderManager.setClient(exchange)
//        orderManager.initiateBuy("",5,5)
//
//        then:
//        assert orderManager.getPendingBuyOrderTracker().size()==1
//
//    }




}
